tinymce.PluginManager.add('mailto', function(editor, url) {
    editor.addButton('mailto', {
		text: '',   //without text label
		image: url + '/mailto.png',
		tooltip: 'Insert Mailto',     //tooltip, if you want
		onclick: function() {
			//call original plugin function
			editor.windowManager.open({
				title: "Insert Email/Mailto Link",
				//url: '/cmsadmin/TinyMce/TableDialog',
				body: [
                    {type: 'textbox', name: 'email', label: 'Email:', value:''},
                ],
				onsubmit: function(e) {
                    // Insert content when the window form is submitted
                    editor.insertContent("<a href='mailto:"+e.data.email+"'>"+e.data.email+"</a>");
                },
				width: 400,
				height: 100,
			});
		}
	});		
});